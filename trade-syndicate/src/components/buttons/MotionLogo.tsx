import { motion, progress } from "framer-motion"
import React, { Dispatch, SetStateAction, useState } from "react"

const MotionLogo = ({
  setLogoDrawn,
}: {
  setLogoDrawn: Dispatch<SetStateAction<boolean>>
}) => {
  const draw = {
    hidden: { pathLength: 0, opacity: 0, fillOpacity: 0 },
    visible: (i: number) => {
      const delay = 0.18 + i * 0.5
      return {
        pathLength: 1,
        opacity: 1,
        fillOpacity: 1,
        transition: {
          pathLength: {
            delay,
            type: "easeInOut",
            duration: 1.3,
            opacity: { delay, duration: 0.01 },
          },
          fillOpacity: {
            delay: delay + 1.4,
            duration: 0.5,
          },
        },
      }
    },
  }

  return (
    <motion.svg
      width="150"
      height="150"
      viewBox="0 0 50 54"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
      initial="hidden"
      animate="visible"
      onAnimationComplete={() => setLogoDrawn(true)}
    >
      <motion.path
        d="M1.99314 0.747018C0.376064 2.47842 0 3.39938 0 5.35182C0 7.78316 0.601702 8.96199 2.89569 10.9513C6.16745 13.751 12.2597 15.9981 18.5023 16.6981L20.6835 16.9559V22.408C20.6835 25.4288 20.5707 27.8969 20.4579 27.8969C20.3075 27.8969 18.3895 26.8655 16.1331 25.5761L12.034 23.2921V19.7925V16.2928L10.6426 15.8508C9.85288 15.6297 8.91272 15.2982 8.53665 15.1877C7.93495 14.9298 7.89734 15.2614 7.97256 20.1977L8.08538 25.4656L14.2904 28.9653L20.4955 32.5017L20.6083 37.4381L20.7211 42.3376L18.4647 40.6062L16.2084 38.8748L16.0955 34.8226L15.9827 30.8072L14.0272 29.702L12.034 28.56V34.6015V40.6062L18.3519 45.3215L24.6322 50L24.745 31.7281C24.7826 21.6344 24.7826 13.3458 24.7074 13.3089C24.6322 13.2352 22.9775 13.0142 21.022 12.7932C13.0494 11.9091 7.0324 9.7356 4.17431 6.71484C2.3692 4.79925 1.99314 3.58358 2.55723 1.5943C2.78287 0.747018 2.89569 0.0470877 2.85809 0.0102493C2.82048 -0.0634276 2.40681 0.268118 1.99314 0.747018Z"
        fill="white"
        variants={draw}
        stroke="#ffffff"
        strokeWidth={0.7}
        custom={1}
      />
      <motion.path
        d="M49.0069 0.747018C50.6239 2.47842 51 3.39939 51 5.35182C51 7.78316 50.3983 8.96199 48.1043 10.9513C44.8326 13.751 38.7403 15.9981 32.4977 16.6981L30.3165 16.9559V22.408C30.3165 25.4288 30.4293 27.8969 30.5421 27.8969C30.6925 27.8969 32.6105 26.8655 34.8669 25.5761L38.966 23.2921V19.7925V16.2928L40.3574 15.8508C41.1471 15.6297 42.0873 15.2982 42.4633 15.1877C43.0651 14.9298 43.1027 15.2614 43.0274 20.1977L42.9146 25.4656L36.7096 28.9653L30.5045 32.5017L30.3917 37.4381L30.2789 42.3376L32.5353 40.6062L34.7916 38.8748L34.9045 34.8226L35.0173 30.8072L36.9728 29.702L38.966 28.56V34.6015V40.6062L32.6481 45.3215L26.3678 50L26.255 31.7281C26.2174 21.6344 26.2174 13.3458 26.2926 13.3089C26.3678 13.2352 28.0225 13.0142 29.978 12.7932C37.9506 11.9091 43.9676 9.7356 46.8257 6.71485C48.6308 4.79925 49.0069 3.58358 48.4428 1.5943C48.2171 0.747018 48.1043 0.0470869 48.1419 0.0102485C48.1795 -0.0634284 48.5932 0.268119 49.0069 0.747018Z"
        fill="white"
        variants={draw}
        stroke="#ffffff"
        strokeWidth={0.7}
        custom={1}
      />
    </motion.svg>
  )
}

export default MotionLogo
